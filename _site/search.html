<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Search</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>

<body>
  <header class="site-header">
    <div class="blog-title-container">
      <h1 class="blog-title">
        <a href="/">
          <img src="/assets/images/logo.png" 
          alt="Site Logo" style="height: 3em; vertical-align: middle; margin-right: 0.5em;">
          Artisanal Intelligence
        </a>
      </h1>
    </div>
    <nav>
      <a href="/design">Design</a> |
      <a href="/attribution">Attribution</a> |
      <a href="/privacy">Privacy</a> |
      <a href="/search">Search</a>
    </nav>
    <button id="theme-toggle">Toggle Theme</button>
  </header>
  <main>
    <h1>Search</h1>
<input type="text" id="search-input" placeholder="Search for posts..." />
<ul id="search-results"></ul>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const searchInput = document.getElementById("search-input");
        const searchResults = document.getElementById("search-results");

        fetch("/search.json")
            .then((response) => response.json())
            .then((data) => {
                searchInput.addEventListener("input", function () {
                    const query = this.value.toLowerCase();
                    searchResults.innerHTML = "";

                    if (query.length > 0) {
                        const results = data.filter((post) =>
                            post.title.toLowerCase().includes(query) ||
                            post.content.toLowerCase().includes(query)
                        );

                        results.forEach((post) => {
                            const li = document.createElement("li");
                            const a = document.createElement("a");
                            a.href = post.url;
                            a.textContent = `${post.title} (${post.date})`;
                            li.appendChild(a);
                            searchResults.appendChild(li);
                        });
                    }
                });
            });
    });
</script>
  </main>
  <footer>
    <p>© Crankbird — <a href="">GitHub</a></p>
  </footer>

  <script src="/assets/js/theme-toggle.js"></script>
</body>

</html>